(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d0245b58"],{"0b42":function(e,t,a){var i=a("da84"),n=a("e8b5"),s=a("68ee"),o=a("861d"),l=a("b622"),r=l("species"),d=i.Array;e.exports=function(e){var t;return n(e)&&(t=e.constructor,s(t)&&(t===d||n(t.prototype))?t=void 0:o(t)&&(t=t[r],null===t&&(t=void 0))),void 0===t?d:t}},"1dde":function(e,t,a){var i=a("d039"),n=a("b622"),s=a("2d00"),o=n("species");e.exports=function(e){return s>=51||!i((function(){var t=[],a=t.constructor={};return a[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"65f0":function(e,t,a){var i=a("0b42");e.exports=function(e,t){return new(i(e))(0===t?0:t)}},"66f4":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"container"}},[a("div",{staticClass:"top"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addObj.flag=!0}}},[e._v("添加游戏")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{stripe:"",data:e.tableData.filter((function(t){return!e.search||String(t.phone).toLowerCase().includes(e.search.toLowerCase())})),"max-height":"730px"}},[a("el-table-column",{attrs:{prop:"shopinfo[0].name",label:"门店名"}}),a("el-table-column",{attrs:{prop:"gamelist[0].name",label:"游戏名"}}),a("el-table-column",{attrs:{prop:"money",label:"游戏定价(元)"}}),a("el-table-column",{attrs:{prop:"discount",label:"折扣(%)"}}),a("el-table-column",{attrs:{prop:"divide",label:"评分(%)"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.handleEdit(t.$index,t.row),e.changeObj.flag=!0}}},[e._v("编辑")]),a("el-button",{attrs:{size:"mini"},nativeOn:{click:function(a){return a.preventDefault(),e.handleDelete(t.$index,t.row)}}},[e._v("移除")])]}}])})],1),a("el-dialog",{attrs:{title:"添加游戏",visible:e.addObj.flag,width:"50%",center:""},on:{"update:visible":function(t){return e.$set(e.addObj,"flag",t)}}},[a("el-form",{attrs:{"label-position":"left","label-width":"100px"}},[a("el-form-item",{attrs:{label:"门店名:"}},[a("el-select",{attrs:{filterable:"",placeholder:"选择您要添加游戏的门店"},model:{value:e.addObj.m_id,callback:function(t){e.$set(e.addObj,"m_id",t)},expression:"addObj.m_id"}},e._l(e.userList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"游戏名:"}},[a("el-select",{attrs:{filterable:"",placeholder:"选择您要添加的游戏"},model:{value:e.addObj.game_id,callback:function(t){e.$set(e.addObj,"game_id",t)},expression:"addObj.game_id"}},e._l(e.gameList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"游戏定价(元):"}},[a("el-input",{attrs:{type:"number",size:"small"},model:{value:e.addObj.money,callback:function(t){e.$set(e.addObj,"money",t)},expression:"addObj.money"}})],1),a("el-form-item",{attrs:{label:"折扣(%):"}},[a("el-input",{attrs:{type:"number",size:"small"},model:{value:e.addObj.discount,callback:function(t){e.$set(e.addObj,"discount",t)},expression:"addObj.discount"}})],1),a("el-form-item",{attrs:{label:"评分(%):"}},[a("el-input",{attrs:{type:"number",size:"small"},model:{value:e.addObj.divide,callback:function(t){e.$set(e.addObj,"divide",t)},expression:"addObj.divide"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){return e.addclear()}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addTrue()}}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"编辑信息",visible:e.changeObj.flag,width:"50%",center:""},on:{"update:visible":function(t){return e.$set(e.changeObj,"flag",t)}}},[a("el-form",{attrs:{"label-position":"left","label-width":"100px"}},[a("el-form-item",{attrs:{label:"门店名:"}},[a("el-input",{attrs:{type:"text",size:"small",disabled:""},model:{value:e.changeObj.m_id,callback:function(t){e.$set(e.changeObj,"m_id",t)},expression:"changeObj.m_id"}})],1),a("el-form-item",{attrs:{label:"游戏名:"}},[a("el-input",{attrs:{type:"text",size:"small",disabled:""},model:{value:e.changeObj.game_id,callback:function(t){e.$set(e.changeObj,"game_id",t)},expression:"changeObj.game_id"}})],1),a("el-form-item",{attrs:{label:"游戏定价(元):"}},[a("el-input",{attrs:{type:"number",size:"small"},model:{value:e.changeObj.money,callback:function(t){e.$set(e.changeObj,"money",t)},expression:"changeObj.money"}})],1),a("el-form-item",{attrs:{label:"折扣(%):"}},[a("el-input",{attrs:{type:"number",size:"small"},model:{value:e.changeObj.discount,callback:function(t){e.$set(e.changeObj,"discount",t)},expression:"changeObj.discount"}})],1),a("el-form-item",{attrs:{label:"评分(%):"}},[a("el-input",{attrs:{type:"number",size:"small"},model:{value:e.changeObj.divide,callback:function(t){e.$set(e.changeObj,"divide",t)},expression:"changeObj.divide"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.changeObj.flag=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.changeTrue}},[e._v("确 定")])],1)],1),e.tableData?a("el-pagination",{attrs:{background:"",layout:"sizes, prev, pager, next, jumper",total:e.fenye.total,"page-sizes":[10,20,30,50],"page-size":e.fenye.page_size,"current-page":e.fenye.current_page},on:{"current-change":e.yebian,"size-change":e.tiaobian}}):e._e()],1)},n=[],s=(a("b0c0"),a("a434"),{data:function(){return{tableData:[{name:"sad"}],userList:[],gameList:[],space:"",loading:!0,search:"",top_sou:"",addObj:{game_id:"",money:"",discount:"",divide:"",m_id:"",flag:!1},fenye:{total:1,page_size:10,current_page:1},changeObj:{flag:!1,game_id:"",money:"",discount:"",divide:"",m_id:"",id:""}}},methods:{handleEdit:function(e,t){console.log(this.tableData),this.changeObj.game_id=this.tableData[e].game_id,this.changeObj.money=this.tableData[e].money,this.changeObj.discount=this.tableData[e].discount,this.changeObj.divide=this.tableData[e].divide,this.changeObj.m_id=this.tableData[e].m_id,this.changeObj.id=this.tableData[e].id,console.log(this.changeObj)},changeTrue:function(){this.loading=!0;var e=this,t={token:this.$store.state.userInfo.token,name:this.$store.state.userInfo.name,discount:this.changeObj.discount,divide:this.changeObj.divide,money:this.changeObj.money,id:this.changeObj.id};this.$axios.post("/shopgamepriceEdit",t).then((function(t){"1"==t.data.code?e.$message({type:"info",message:t.data.message}):(e.changeObj.flag=!1,e.shebeiList(e.fenye.current_page,e.fenye.page_size),e.$message({type:"success",message:t.data.message}))}))},handleDelete:function(e,t){var a=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.tableData.splice(e,1),a.$message({type:"success",message:"删除成功!"})})).catch((function(){a.$message({type:"info",message:"已取消删除"})}))},yebian:function(e){this.loading=!0,this.fenye.current_page=e,this.shebeiList(e,this.fenye.page_size)},tiaobian:function(e){this.loading=!0,this.fenye.page_size=e,this.shebeiList(this.fenye.current_page,e)},addTrue:function(){this.loading=!0;var e=this,t={name:this.$store.state.userInfo.name,token:this.$store.state.userInfo.token,m_id:this.addObj.m_id,game_id:this.addObj.game_id,money:this.addObj.money,discount:this.addObj.discount,divide:this.addObj.divide};this.$axios.post("/shopgamepriceAdd",t).then((function(t){"1"==t.data.code?e.$message({type:"info",message:t.data.message}):e.$message({type:"success",message:t.data.message}),e.shebeiList(e.fenye.current_page,e.fenye.page_size),e.addclear()}))},addclear:function(){this.addObj.m_id="",this.addObj.game_id="",this.addObj.money="",this.addObj.discount="",this.addObj.divide="",this.addObj.flag=!1},shebeiList:function(e,t){var a=this,i=(this.$store.state.userInfo.name,this.$store.state.userInfo.token,{name:this.$store.state.userInfo.name,token:this.$store.state.userInfo.token,page:e,pageSize:t});this.$axios.post("/shopgameprice",i).then((function(e){a.fenye.total=e.data.pageCount*e.data.pageSize,a.tableData=e.data.data,console.log(a.tableData),a.loading=!1}))}},created:function(){this.space=this.$store.state.space;this.$store.state.userInfo.name,this.$store.state.userInfo.token;this.shebeiList(this.fenye.current_page,this.fenye.page_size)}}),o=s,l=(a("ff67"),a("2877")),r=Object(l["a"])(o,i,n,!1,null,"22d6ee81",null);t["default"]=r.exports},7995:function(e,t,a){},8418:function(e,t,a){"use strict";var i=a("a04b"),n=a("9bf2"),s=a("5c6c");e.exports=function(e,t,a){var o=i(t);o in e?n.f(e,o,s(0,a)):e[o]=a}},a434:function(e,t,a){"use strict";var i=a("23e7"),n=a("da84"),s=a("23cb"),o=a("5926"),l=a("07fa"),r=a("7b0b"),d=a("65f0"),c=a("8418"),u=a("1dde"),b=u("splice"),f=n.TypeError,m=Math.max,h=Math.min,g=9007199254740991,p="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!b},{splice:function(e,t){var a,i,n,u,b,v,y=r(this),j=l(y),O=s(e,j),_=arguments.length;if(0===_?a=i=0:1===_?(a=0,i=j-O):(a=_-2,i=h(m(o(t),0),j-O)),j+a-i>g)throw f(p);for(n=d(y,i),u=0;u<i;u++)b=O+u,b in y&&c(n,u,y[b]);if(n.length=i,a<i){for(u=O;u<j-i;u++)b=u+i,v=u+a,b in y?y[v]=y[b]:delete y[v];for(u=j;u>j-i+a;u--)delete y[u-1]}else if(a>i)for(u=j-i;u>O;u--)b=u+i-1,v=u+a-1,b in y?y[v]=y[b]:delete y[v];for(u=0;u<a;u++)y[u+O]=arguments[u+2];return y.length=j-i+a,n}})},e8b5:function(e,t,a){var i=a("c6b6");e.exports=Array.isArray||function(e){return"Array"==i(e)}},ff67:function(e,t,a){"use strict";a("7995")}}]);
//# sourceMappingURL=chunk-d0245b58.e73f4bd6.js.map